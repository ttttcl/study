### 1.什么是执行上下文

执行上下文就是当前JavaScript代码被解析和执行时存在的环境（执行环境）

### 2.执行上下文的类型

1.全局执行上下文

- 不再函数内部的代码都位于全局执行上下文中。
- 创建一个全局对象，就是我们的window对象
- 将this指针指向这个全局对象

2.函数执行上下文：每次函数被调用的时候，就会创建一个新的执行上下文

- 每个函数都有自己的执行上下文。
- 一个程序中可以存在任意数量的函数执行上下文
- 每一个函数执行上下文被创建，它都会按照特定的顺序执行一系列的步骤

3.eval函数执行上下文：运行在eval函数中的代码也获得了自己的执行上下文。

### 3.执行上下文的生命周期

总的来说：创建阶段->执行阶段->回收阶段

1.创建阶段

当函数被调用，但是未执行内部的任何代码之前，会做以下几件事：

- 创建变量对象：首先会初始化函数的参数argument，提升函数声明和变量声明。
- 创建作用域链：在执行上下文创建阶段，作用域链是在变量对象之后创建的，作用域链本身包含变量对象。作用域链用来解析变量。
- 确定this指向：很多种情况

2.执行阶段

执行变量赋值，代码执行

3.回收阶段

执行上下文出栈，等待虚拟机回收。

### 4.变量声明提升

```javascript
console.log(a) // undefined
var a=10
```

代码输出undefined而不是10

### 5.函数声明提升

- 函数声明方式：function foo(){}
- 函数表达式方式：var foo = function(){}

```javascript
console.log(f1) //f1
function f1(){}
console.log(f2) //undefined
var f2 = function(){}
```

注意：当遇到函数和变量同名且都会被提升的情况，函数声明优先级比较高，因此变量声明会被函数声明覆盖，但是可以重新赋值。